tp-link TL-WR841n/d 改機筆記

目標：
硬改64Mb ram
硬改16MB flash
然後刷上OpenWRT firmware (從主要開發分支trunk自行編譯)
uboot換成pepe2k的

工作列表：

0.認識編程器固件的分區布局方式
參考資料：
http://wiki.openwrt.org/doc/techref/file_system

1.使用tp-link的web interface刷上官方預編譯好的OpenWRT firmware
（openwrt-ar71xx-generic-tl-wr841n-v8-squashfs-factory.bin）

2.把WR841開機，telnet進去後設定root密碼，然後把路由器上ROM裡的uboot和art備份下來
參考資料
http://wiki.openwrt.org/doc/howto/generic.backup
http://lirobo.blogspot.tw/2012/10/tp-link-tl-wr703n.html

3.在筆記型電腦上安裝TFTP服務器

4.使用TFTP方式刷回tp-link原廠firmware

5.使用TFTP方式再刷回OpenWRT官方的WR841N-v8的firmware

6.編譯16MB Flash專用的OpenWRT firmware

7.編譯WR841N/D專用的pepe2k版本的uboot

8.勞作時間，使用hex editor將uboot、firmware、art資料弄成一整個16MB的編程器固件

9.測試CH341A編程器讀寫均正常

10.寫入我們剛才產生的16MB編程器固件到ROM裡

